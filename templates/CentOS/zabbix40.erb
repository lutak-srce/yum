[zabbix]
name=Zabbix Official Repository - $basearch
baseurl=https://repo.zabbix.com/zabbix/<%= @version %>/rhel/$releasever/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591
priority=<%= @priority %>
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>

<% if @version.to_i < 4 -%>
[zabbix-deprecated]
name=Zabbix Official Repository deprecated - $basearch
baseurl=https://repo.zabbix.com/zabbix/<%= @version %>/rhel/$releasever/$basearch/deprecated
enabled=0
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>

<% end -%>
[zabbix-non-supported]
name=Zabbix Official Repository non-supported - $basearch
baseurl=https://repo.zabbix.com/non-supported/rhel/$releasever/$basearch/
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX
gpgcheck=1
priority=<%= @priority %>
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>
