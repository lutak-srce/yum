[ius]
name = IUS for Enterprise Linux <%= @facts['os']['release']['major'] %> - $basearch
<% if @baseurl -%>
baseurl = <%= @baseurl %>
<% else -%>
baseurl = https://repo.ius.io/<%= @facts['os']['release']['major'] %>/$basearch/
<% end -%>
enabled = 1
repo_gpgcheck = 0
gpgcheck = 1
gpgkey = file:///etc/pki/rpm-gpg/RPM-GPG-KEY-IUS-<%= @facts['os']['release']['major'] %>
priority = <%= @priority %>
<% unless @exclude.empty? -%>
exclude = <%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs = <%= @include.to_a.join(' ') %>
<% end -%>

[ius-debuginfo]
name = IUS for Enterprise Linux <%= @facts['os']['release']['major'] %> - $basearch - Debug
<% if @baseurl -%>
baseurl = <%= @baseurl %>debug/
<% else -%>
baseurl = https://repo.ius.io/<%= @facts['os']['release']['major'] %>/$basearch/debug/
<% end -%>
<% if @debuginfo -%>
enabled = 1
<% else -%>
enabled = 0
<% end -%>
repo_gpgcheck = 0
gpgcheck = 1
gpgkey = file:///etc/pki/rpm-gpg/RPM-GPG-KEY-IUS-<%= @facts['os']['release']['major'] %>
priority = <%= @priority %>
<% unless @exclude.empty? -%>
exclude = <%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs = <%= @include.to_a.join(' ') %>
<% end -%>

[ius-source]
name = IUS for Enterprise Linux <%= @facts['os']['release']['major'] %> - Source
<% if @baseurl -%>
baseurl = <%= @baseurl.sub('$basearch','src') %>
<% else -%>
baseurl = https://repo.ius.io/<%= @facts['os']['release']['major'] %>/src/
<% end -%>
<% if @source -%>
enabled = 1
<% else -%>
enabled = 0
<% end -%>
repo_gpgcheck = 0
gpgcheck = 1
gpgkey = file:///etc/pki/rpm-gpg/RPM-GPG-KEY-IUS-<%= @facts['os']['release']['major'] %>
priority = <%= @priority %>
<% unless @exclude.empty? -%>
exclude = <%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs = <%= @include.to_a.join(' ') %>
<% end -%>
