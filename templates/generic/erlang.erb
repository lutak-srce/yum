##
## Zero dependency Erlang RPM
##

[modern-erlang]
name=modern-erlang-el8
# uses a Cloudsmith mirror @ yum1.novemberain.com.
# Unlike Cloudsmith, it does not have traffic quotas
<% if @baseurl -%>
baseurl=<%= @baseurl %>
<% else -%>
baseurl=https://yum1.novemberain.com/erlang/el/8/$basearch
<% end -%>
repo_gpgcheck=1
enabled=1
gpgkey=https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/gpg.E495BB49CC4BBE5B.key
gpgcheck=1
sslverify=1
sslcacert=/etc/pki/tls/certs/ca-bundle.crt
metadata_expire=300
pkg_gpgcheck=1
autorefresh=1
type=rpm-md
priority=<%= @priority %>
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>

[modern-erlang-noarch]
name=modern-erlang-el8-noarch
# uses a Cloudsmith mirror @ yum1.novemberain.com.
# Unlike Cloudsmith, it does not have traffic quotas
<% if @baseurl -%>
baseurl=<%= @baseurl.sub('$basearch', 'noarch') %>
<% else -%>
baseurl=https://yum1.novemberain.com/erlang/el/8/noarch
<% end -%>
repo_gpgcheck=1
enabled=1
gpgkey=https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/gpg.E495BB49CC4BBE5B.key
       https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc
gpgcheck=1
sslverify=1
sslcacert=/etc/pki/tls/certs/ca-bundle.crt
metadata_expire=300
pkg_gpgcheck=1
autorefresh=1
type=rpm-md
priority=<%= @priority %>
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>

[modern-erlang-source]
name=modern-erlang-el8-source
# uses a Cloudsmith mirror @ yum1.novemberain.com.
# Unlike Cloudsmith, it does not have traffic quotas
<% if @baseurl -%>
baseurl=<%= @baseurl.sub('$basearch', 'SRPMS') %>
<% else -%>
baseurl=https://yum1.novemberain.com/erlang/el/8/noarch
<% end -%>
repo_gpgcheck=1
enabled=0
gpgkey=https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/gpg.E495BB49CC4BBE5B.key
       https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc
gpgcheck=1
sslverify=1
sslcacert=/etc/pki/tls/certs/ca-bundle.crt
metadata_expire=300
pkg_gpgcheck=1
autorefresh=1
priority=<%= @priority %>
<% unless @exclude.empty? -%>
exclude=<%= @exclude.to_a.join(' ') %>
<% end -%>
<% unless @include.empty? -%>
includepkgs=<%= @include.to_a.join(' ') %>
<% end -%>
